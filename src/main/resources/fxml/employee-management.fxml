<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<ScrollPane fitToWidth="true" pannable="true" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="rh.controller.EmployeeController">
    <content>
        <VBox prefHeight="800.0" prefWidth="1080.0" spacing="20.0" styleClass="main-container">
            <padding>
                <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
            </padding>

            <!-- Titre -->
            <Label alignment="CENTER" styleClass="main-title" text="RH Plus - Gestion des Employés">
                <font><Font name="System Bold" size="28.0" /></font>
            </Label>

            <!-- Barre de recherche -->
            <HBox spacing="10.0">
                <children>
                    <Label styleClass="field-label" text="Rechercher:" />
                    <TextField fx:id="txtRecherche" prefWidth="800.0" promptText="Nom, prénom, email, poste..." styleClass="search-field" />
                    <Button fx:id="btnRechercher" styleClass="btn-search" text="🔍" />
                    <Region HBox.hgrow="ALWAYS" />
                </children>
            </HBox>

            <!-- Tableau des employés -->
            <VBox spacing="10.0">
                <children>
                    <HBox spacing="10.0">
                        <children>
                            <Label styleClass="section-title" text="Liste des Employés">
                                <font><Font name="System Bold" size="18.0" /></font>
                            </Label>
                            <Region HBox.hgrow="ALWAYS" />
                            <Label fx:id="lblNombreEmployes" styleClass="count-label" text="Total: 0 employés">
                                <font><Font name="System Bold" size="14.0" /></font>
                            </Label>
                        </children>
                    </HBox>

                    <TableView fx:id="tableEmployes" onMouseClicked="#selectionnerEmploye" prefHeight="400.0">
                        <columns>
                            <TableColumn fx:id="colId" prefWidth="60.0" text="ID" />
                            <TableColumn fx:id="colNom" prefWidth="120.0" text="Nom" />
                            <TableColumn fx:id="colPrenom" prefWidth="120.0" text="Prénom" />
                            <TableColumn fx:id="colEmail" prefWidth="200.0" text="Email" />
                            <TableColumn fx:id="colTelephone" prefWidth="120.0" text="Téléphone" />
                            <TableColumn fx:id="colDateEmbauche" prefWidth="130.0" text="Date Embauche" />
                            <TableColumn fx:id="colDepartement" prefWidth="150.0" text="Département" />
                            <TableColumn fx:id="colPoste" prefWidth="150.0" text="Poste" />
                            <TableColumn fx:id="colAdresse" prefWidth="200.0" text="Adresse" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
                </children>
            </VBox>

            <!-- Boutons d'action -->
            <HBox alignment="CENTER" spacing="15.0">
                <children>
                    <Button fx:id="btnModifier" onAction="#modifierEmploye" styleClass="btn-secondary" text="✏️ Modifier Sélectionné" />
                    <Button fx:id="btnSupprimer" onAction="#supprimerEmploye" styleClass="btn-danger" text="🗑️ Supprimer Sélectionné" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Button fx:id="btnVider" onAction="#viderChamps" styleClass="btn-neutral" text="🧹 Vider Formulaire" />
                </children>
            </HBox>

            <Separator />

            <!-- Formulaire (libre placement avec Pane) -->
            <Pane prefHeight="450.0" prefWidth="1600.0" styleClass="form-section">

                <Label layoutX="20.0" layoutY="10.0" styleClass="section-title" text="➕ Ajouter / Modifier un Employé">
                    <font><Font name="System Bold" size="18.0" /></font>
                </Label>

                <!-- ID -->
                <Label layoutX="20.0" layoutY="60.0" styleClass="field-label" text="ID Employé:" />
                <TextField fx:id="txtEmployeeId" editable="false" layoutX="20.0" layoutY="85.0" prefWidth="300.0" promptText="Auto-généré" styleClass="text-field-readonly" />

                <!-- Nom -->
                <Label layoutX="350.0" layoutY="60.0" styleClass="field-label" text="Nom: *" />
                <TextField fx:id="txtNom" layoutX="350.0" layoutY="85.0" prefWidth="300.0" promptText="Nom de famille" styleClass="text-field" />

                <!-- Prénom -->
                <Label layoutX="680.0" layoutY="60.0" styleClass="field-label" text="Prénom: *" />
                <TextField fx:id="txtPrenom" layoutX="680.0" layoutY="85.0" prefWidth="300.0" promptText="Prénom" styleClass="text-field" />

                <!-- Email -->
                <Label layoutX="20.0" layoutY="140.0" styleClass="field-label" text="Email: *" />
                <TextField fx:id="txtEmail" layoutX="20.0" layoutY="165.0" prefWidth="300.0" promptText="email@exemple.com" styleClass="text-field" />

                <!-- Téléphone -->
                <Label layoutX="350.0" layoutY="140.0" styleClass="field-label" text="Téléphone: *" />
                <TextField fx:id="txtTelephone" layoutX="350.0" layoutY="165.0" prefWidth="300.0" promptText="0123456789" styleClass="text-field" />

                <!-- Date Embauche -->
                <Label layoutX="680.0" layoutY="140.0" styleClass="field-label" text="Date d'embauche: *" />
                <DatePicker fx:id="dateEmbauche" layoutX="680.0" layoutY="165.0" prefWidth="300.0" promptText="Sélectionner une date" styleClass="date-picker" />

                <!-- Département -->
                <Label layoutX="20.0" layoutY="220.0" styleClass="field-label" text="Département: *" />
                <ComboBox fx:id="comboDepartement" layoutX="20.0" layoutY="245.0" prefWidth="300.0" promptText="Sélectionner ou saisir" styleClass="combo-box" />

                <!-- Poste -->
                <Label layoutX="350.0" layoutY="220.0" styleClass="field-label" text="Poste: *" />
                <ComboBox fx:id="comboPoste" layoutX="350.0" layoutY="245.0" prefWidth="300.0" promptText="Sélectionner ou saisir" styleClass="combo-box" />

                <!-- Adresse -->
                <Label layoutX="680.0" layoutY="220.0" styleClass="field-label" text="Adresse:" />
                <TextField fx:id="txtAdresse" layoutX="680.0" layoutY="245.0" prefWidth="300.0" promptText="Adresse complète" styleClass="text-field" />

                <!-- Statut -->
                <Label fx:id="lblStatut" layoutX="20.0" layoutY="300.0" styleClass="status-label" text="Prêt">
                    <font><Font size="12.0" /></font>
                </Label>
                <Label layoutX="20.0" layoutY="330.0" styleClass="field-label" text="* Champs obligatoires">
                    <font><Font size="11.0" /></font>
                </Label>
            </Pane>

            <!-- Boutons du formulaire -->
            <HBox alignment="CENTER" prefHeight="154.0" prefWidth="1090.0" spacing="25.0">
                <children>
                    <Button fx:id="btnAjouter" onAction="#ajouterEmploye" styleClass="btn-primary" text="➕ Ajouter Employé">
                        <font><Font name="System Bold" size="14.0" /></font>
                    </Button>
                    <Button onAction="#viderChamps" styleClass="btn-neutral" text="🔄 Nouveau">
                        <font><Font name="System Bold" size="14.0" /></font>
                    </Button>
                </children>
            </HBox>

        </VBox>
    </content>
</ScrollPane>
